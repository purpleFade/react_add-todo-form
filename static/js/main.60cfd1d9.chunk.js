(this["webpackJsonpreact_add-todo-form"]=this["webpackJsonpreact_add-todo-form"]||[]).push([[0],{15:function(e,t,r){},16:function(e,t,r){"use strict";r.r(t);var n=r(8),a=r.n(n),s=r(6),i=r(1),o=r(9),c=r.n(o),u=r(0),l=function(e){var t=e.user;return Object(u.jsx)("a",{className:"UserInfo",href:"mailto:".concat(t.email),children:t.name})},d=function(e){var t=e.todo;return Object(u.jsxs)("article",{"data-id":t.id,className:c()("TodoInfo",{"TodoInfo--completed":t.completed}),children:[Object(u.jsx)("h2",{className:"TodoInfo__title",children:t.title}),Object(u.jsx)(l,{user:t.user||{}})]})},m=function(e){var t=e.todos;return Object(u.jsx)("section",{className:"TodoList",children:t.map((function(e){return Object(u.jsx)(d,{todo:e},e.id)}))})},j=(r(15),r(7)),b=r(2),h=[{id:1,name:"Leanne Graham",username:"Bret",email:"Sincere@april.biz"},{id:2,name:"Ervin Howell",username:"Antonette",email:"Shanna@melissa.tv"},{id:3,name:"Clementine Bauch",username:"Samantha",email:"Nathan@yesenia.net"},{id:4,name:"Patricia Lebsack",username:"Karianne",email:"Julianne.OConner@kory.org"},{id:5,name:"Chelsey Dietrich",username:"Kamren",email:"Lucio_Hettinger@annie.ca"},{id:6,name:"Mrs. Dennis Schulist",username:"Leopoldo_Corkery",email:"Karley_Dach@jasper.info"},{id:7,name:"Kurtis Weissnat",username:"Elwyn.Skiles",email:"Telly.Hoeger@billy.biz"},{id:8,name:"Nicholas Runolfsdottir V",username:"Maxime_Nienow",email:"Sherwood@rosamond.me"},{id:9,name:"Glenna Reichert",username:"Delphine",email:"Chaim_McDermott@dana.io"},{id:10,name:"Clementina DuBuque",username:"Moriah.Stanton",email:"Rey.Padberg@karina.biz"}],f=[{id:1,title:"delectus aut autem",completed:!0,userId:1},{id:15,title:"some other todo",completed:!1,userId:1},{id:2,title:"quis ut nam facilis et officia qui",completed:!1,userId:4}],O={query:"",setQuery:function(){return null},userId:0,setUserId:function(){return null},visibleTodos:[],setVisibleTodos:function(){return null},inputError:"",setInputError:function(){return null},userError:"",setUserError:function(){return null},users:[]},p=Object(i.createContext)(O),x=function(e){var t=e.children,r=Object(i.useState)(""),n=Object(b.a)(r,2),a=n[0],s=n[1],o=Object(i.useState)(0),c=Object(b.a)(o,2),l=c[0],d=c[1],m=Object(i.useState)(f),O=Object(b.a)(m,2),x=O[0],v=O[1],y=Object(i.useState)(h),I=Object(b.a)(y,1)[0],E=Object(i.useState)(""),S=Object(b.a)(E,2),T=S[0],N=S[1],C=Object(i.useState)(""),g=Object(b.a)(C,2),_=g[0],U=g[1];Object(i.useEffect)((function(){var e=x.map((function(e){return Object(j.a)(Object(j.a)({},e),{},{user:I.find((function(t){return t.id===e.userId}))})}));v(e)}),[]);var k={query:a,setQuery:s,userId:l,setUserId:d,visibleTodos:x,setVisibleTodos:v,inputError:T,setInputError:N,users:I,userError:_,setUserError:U};return Object(u.jsx)(p.Provider,{value:k,children:t})},v=function(e,t){return t.find((function(t){return t.id===e}))},y=/[\u0430-\u044f\u0410-\u042f\u0406\u0456\u0407\u0457\u0404\u0454\u0490\u0491'a-zA-Z0-9\s]+/,I=function(){var e=Object(i.useContext)(p),t=e.query,r=e.setQuery,n=e.userId,a=e.setUserId,o=e.visibleTodos,c=e.setVisibleTodos,l=e.users,d=e.userError,j=e.setUserError,b=e.inputError,h=e.setInputError;return Object(u.jsxs)("div",{className:"App",children:[Object(u.jsx)("h1",{children:"Add todo form"}),Object(u.jsxs)("form",{action:"/api/todos",method:"POST",onSubmit:function(e){if(e.preventDefault(),t.trim()||h("Please enter a title"),n||j("Please choose a user"),n&&t.trim()){var i=o.map((function(e){return e.id})),u={id:Math.max.apply(Math,Object(s.a)(i))+1,title:t,userId:+n,completed:!1,user:v(+n,l)};c([].concat(Object(s.a)(o),[u])),r(""),a(0)}},children:[Object(u.jsxs)("div",{className:"field",children:[Object(u.jsxs)("label",{children:["Title: ",Object(u.jsx)("input",{type:"text","data-cy":"titleInput",value:t,onChange:function(e){var t=e.target.value;(y.test(t)||""===t)&&(r(t),h(""))},placeholder:"Enter a title"})]}),Object(u.jsx)("span",{className:"error",children:b})]}),Object(u.jsxs)("div",{className:"field",children:[Object(u.jsxs)("label",{children:["User: ",Object(u.jsxs)("select",{"data-cy":"userSelect",onChange:function(e){var t=e.target.value;a(+t),j("")},value:n,children:[Object(u.jsx)("option",{value:"0",disabled:!0,children:"Choose a user"}),l.map((function(e){return Object(u.jsx)("option",{value:e.id,children:e.name},e.id)}))]})]}),Object(u.jsx)("span",{className:"error",children:d})]}),Object(u.jsx)("button",{type:"submit","data-cy":"submitButton",children:"Add"})]}),Object(u.jsx)(m,{todos:o})]})};a.a.render(Object(u.jsx)(x,{children:Object(u.jsx)(I,{})}),document.getElementById("root"))}},[[16,1,2]]]);
//# sourceMappingURL=main.60cfd1d9.chunk.js.map